<?xml version="1.0" encoding="iso-2022-jp"?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp" />
<meta http-equiv="content-style-type" content="text/css" />
<title>vida-pwdbinit</title>
<link rev="made" href="mailto:taki@cyber.email.ne.jp" />
<link rel="stylesheet" href="vida.css" />
<body>
<h1>vida-pwdbinit</h1>
<p>パスワードデータベースを初期化するプログラム</p>

<h2>使い方</h2>
<p>vida-pwdbinit domainowner</p>

<p>ドメインの所有者domainownerが管理するパスワードデータベースを作成する。domainownerを省略した場合は実在ドメイン用のパスワードデータベースを作成する。
なお、このプログラムはrootの権限でのみ実行できる。</p>

<h2>説明</h2>
<p>qmailのホームディレクトリ（通常は/var/qmail）の下に'authdb'というディレクトリを作成し、利用するドメイン毎にそのドメインの所有者名のディレクトリを作成する。実在ユーザ用には'pwdusers'というディレクトリ名が用いられる。</p>
<p>各ディレクトリにパスワードを管理する'passwd'というファイルとそれをcdb形式にコンパイルした'cdb'というファイルが置かれる。</p>
<p>実在ドメインの所有者がpopで、バーチャルドメインの所有者がvpopの場合のディレクトリツリーを示すと次のようになる。</p>
<pre class="example">
/ + var/ + qmail/ + authdb/ + pwdusers/ + passwd    実在ドメイン・実在ユーザ
                            |           + cdb
                            |
                            + pop/      + passwd    実在ドメイン・仮想ユーザ
                            |           + cdb
                            |
                            + vpop/     + passwd    仮想ドメイン・仮想ユーザ
                                        + cdb
</pre>
<p>なお、'passwd'ファイルの形式に関して知りたい人は<a href="vida-pwdbmake.html">vida-pwdbmakeのマニュアル</a>を参照すること。</p>

</body>
</html>
