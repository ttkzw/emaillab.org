<html>
<body>
<a href="../djb.html">D. J. Bernstein</a>
<br><a href="../unix.html">UNIX</a>
<br><a href="../daemontools.html">daemontools</a>
<h1>How to install daemontools</h1>
Like any other piece of software (and information generally),
daemontools comes with NO WARRANTY.
<h2>System requirements</h2>
daemontools works only under UNIX.
<h2>Installation</h2>
Download the daemontools package.
The latest published daemontools package is
<a href="daemontools-0.70.tar.gz">daemontools-0.70.tar.gz</a>.
<p>
Unpack the daemontools package:
<pre>
     gunzip daemontools-0.70.tar
     tar -xf daemontools-0.70.tar
     cd daemontools-0.70
</pre>
<p>
Decide where you want daemontools to be installed.
The default is <tt>/usr/local</tt>.
To change this directory, edit <tt>conf-home</tt> now.
<p>
Compile the daemontools programs:
<pre>
     make
</pre>
<p>
As root, install the daemontools programs:
<pre>
     make setup check
</pre>
<p>
Finally,
<a href="svscan.html#boot">start <tt>svscan</tt> in <tt>/service</tt></a>.
Other packages rely on <tt>svscan</tt>
to start new services and to restart services upon reboot.
<h2>Testing</h2>
Try some automatic tests:
<pre>
     ./rts &gt; rts.out
     cmp rts.out rts.exp
</pre>
Normally this prints nothing.
Exception: Some SVR4 variants allow multiple exclusive locks
on the same file by the same process,
making the ``already locked'' tests fail.
The next version of <tt>rts</tt> will work around this silliness.
<p>
Check some timestamps:
<pre>
     date | ./tai64n | ./tai64nlocal
     date | sh -c './multilog t e 2&gt;&amp;1' | ./tai64nlocal
</pre>
The output should look something like
<pre>
     1999-08-24 11:56:13.847803500 Tue Aug 24 11:56:13 CDT 1999
     1999-08-24 11:56:21.418571500 Tue Aug 24 11:56:21 CDT 1999
</pre>
The date and time at the beginning of each line should be the same as
the date and time at the end of the line,
or one second larger if the fractional part is very small.
<p>
To report success:
<pre>
     ( echo 'First M. Last'; cat VERSION systype \
     direntry.h fork.h hasflock.h hasmkffo.h hassgact.h \
     hasshsgr.h haswaitp.h iopause.h select.h uint64.h ) \
     | mail djb-sysdeps@cr.yp.to
</pre>
Replace <tt>First M. Last</tt> with your name.
</body>
</html>
