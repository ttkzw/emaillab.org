--- mh.c.orig	Thu Sep 20 23:23:32 2001
+++ mh.c	Sat Sep 22 00:00:35 2001
@@ -1218,6 +1218,7 @@
   struct maildir **last;
   HASH *fnames;
   int i, j, deleted;
+  FILE *fp;
   
   if(!option (OPTCHECKNEW))
     return 0;
@@ -1230,8 +1231,26 @@
     
     snprintf (buf, sizeof (buf), "%s/.mh_sequences", ctx->path);
     if (stat (buf, &st_cur) == -1)
-      modified = 1;
-    
+    {
+      if (mutt_strlen(MHPath) > 0)
+      {
+        if (!ctx->readonly)
+	{
+	  if (!(fp = fopen (buf, "w")))
+	    return -1;
+	  safe_fclose (&fp);
+	  if (stat (buf, &st_cur) == -1)
+	    modified = 1;
+	  strfcpy(buf, ctx->path, sizeof(buf));
+	  if(stat(buf, &st) == -1)
+	    return -1;
+	  ctx->mtime_cur = st_cur.st_mtime;
+	  ctx->mtime = st.st_mtime;
+	}
+      }
+      else
+	modified = 1;
+    }
   }
   else if(ctx->magic == M_MAILDIR)
   {
