---
title: 「表6. SMTP, POP, IMAP, LDAP」の解説
---
Last modified: Sat Jan 13 16:13:27 2001

------------------------------------------------------------------------

### SMTP

#### 評価方法

SMTP をサポートしているかを示します。

### POP before SMTP

#### 説明

ISP経由でメールの送受信を認めている場合、そのメールサーバは第三者の不正中継に利用される恐れがあります。これを防ぐために、POP の認証後の一定時間の間だけ、そのISPのホストからのメールの中継を許可する仕組みを設けることがあります。一方、これに対してメイラ─側の対応は送信前に POP の認証を行う仕組みがあると便利です。この仕組みがないと、送信をする前に受信を手動で行わなければなりません。うっかり受信を行うのを忘れるとそんなメールは受け取れないよとサーバに怒られます。このため、送信前に POP の認証ができるかを調べました。POP before SMTP については「[正規ユーザのみ送信できる方法について](/essay/auth-submission.html)」もご覧下さい。

#### 評価方法

送信時に POP の認証を行うかどうかを示します。メッセージを作成した後にすぐに送信するときにPOP認証を行うものは"○"を示します。このときに実際にメッセージを受信するものは"(with RETR)"が付きます。一旦保存して後で送受信を行うものは"△"を示します。

### SMTP認証

#### 説明

ISP経由でメールの送受信を認めている場合、そのメールサーバは第三者の不正中継に利用される恐れがあります。これを防ぐために、送信者に対してRFC 2554 "SMTP Service Extension for Authentication"に規定された SMTP 認証を行うことがあります。詳しくは「[正規ユーザのみ送信できる方法について](/essay/auth-submission.html)」もご覧下さい。

#### 評価方法

SMTP-AUTH をサポートしているかを示します。括弧内は平文以外でサポートしている認証プロトコルです。ただし、試験環境では CRAM-MD5 しかサポートしていないため、実質的に CRAM-MD5 のサポートの有無となります。しかし、現状ではサーバ／クライアント共に平文以外の認証は CRAM-MD5 しかサポートしていない(一部で DIGEST-MD5 をサポート)ようなのでこの評価で問題ないと思われます。

### POP

#### 評価方法

POP3 をサポートしているかを示します。

### POP認証

#### 説明

通常の USER/PASS コマンドによる認証では平文でパスワードが流れるため、パケットが盗聴されたら、そのパスワードが不正使用される恐れがあります。これを防ぐために、RFC1939 "Post Office Protocol - Version 3"では APOP コマンドによる認証が規定されています。APOP ではパスワードをダイジェスト関数である MD5 でハッシュ化して送信するので盗聴されても再利用できません（簡単なパスワードは総当たりで解読されるかも知れませんが）。そのため APOP を使うことによってパスワードの安全性が高まります。また、SASL による認証もありますが、ほとんど実装されていないので、ここでは特に触れません。

#### 評価方法

平文認証以外でサポートしている認証プロトコルです。だし、試験環境では APOP しかサポートしていないため、実質的に APOP のサポートの有無となります。

### IMAP

#### 評価方法

IMAP をサポートしているかを示します。

### IMAP認証

#### 説明

IMAP の認証には通常 SASL による方法を用います。SASL では様々な認証プロトコルを用いることができます。認証プロトコル "LOGIN" では平文でパスワードが流れるため、パケットが盗聴されたら、そのパスワードが不正使用される恐れがあります。これを防ぐために、CRAM-MD5 などのセキュアな認証プロトコルが必要です。

#### 評価方法

平文認証以外でサポートしている認証プロトコルです。ただし、試験環境では CRAM-MD5 しかサポートしていないため、実質的に CRAM-MD5 のサポートの有無となります。

### LDAP

#### 説明

会社などの組織になると、メイラーのアドレス帳などでメールアドレスを管理するのは規模が大きくなるほど不可能になります。そのため、メールアドレスを検索するために LDAP を使用する組織も多いと思います。そのため、LDAP のサポートを調べました。また、名前を漢字で調べることができると便利なため、漢字で検索できるかも調べました。サーバ側では UTF-8 にて漢字を記述しています。ただし、筆者の方での理解が足らず、日本語を使うためにこの方法でいいのかが確信が持てないため参考程度にとどめてください。（OpenLDAP ML の過去ログのアーカイブを検索したら、UTF-8 を使えというメッセージがあったので UTF-8 に変換しただけです。）

#### 評価方法

LDAP をサポートしているかを示します。LDAP のバージョンの違いにより検証できなかったものもありますので、検証の結果ではなく、機能があるか無いかだけで評価しました。
また、UTF-8 ベースで日本語を使えるものは"(ja)"が付きます。

------------------------------------------------------------------------

滝澤 隆史(TAKIZAWA Takashi)
<taki@cyber.email.ne.jp>
